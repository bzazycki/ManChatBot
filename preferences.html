/* CSS File to Style the website
   Date Last Edited: 1/20/2025
   Author: Jalen Brunson, Zach Clouse, Ethan Armbruster
*/
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buzz Settings - Hive</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Default Light Mode */
    body.light-mode {
      background-color: #ffffff; /* Default background */
      color: #000000; /* Default text color */
    }

  

    header.light-mode a {
      color: #ffc107; /* Yellow navigation links */
    }

    .container.light-mode {
      border: 2px solid #cccccc; /* Light border */
    }

    /* Inverted Dark Mode */
    body.dark-mode {
      background-color: #000000; /* Ensure proper dark background when inverted */
    }

    header.dark-mode {
      filter: invert(1); /* Invert colors for the header */
    }

    .container.dark-mode {
      filter: invert(1); /* Invert colors for the container */
    }

    /* Navigation Links */
    nav ul li a {
      text-decoration: none;
      font-size: 18px;
      padding: 10px 15px;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 1px;
    }

    nav ul li a:hover,
    nav ul li a:focus {
      text-decoration: underline;
    }

    /* Form Styling */
    form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    label {
      font-weight: bold;
    }

    select, input[type="checkbox"], button {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #999; /* Neutral border color */
      background-color: #f9f9f9; /* Default form background */
      color: #333; /* Default form text color */
    }

    button {
      background-color: #000; /* Button background */
      color: #ffc107; /* Button text color */
      cursor: pointer;
      transition: all 0.3s ease;
    }

    button:hover {
      background-color: #333; /* Button hover background */
    }

    /* Feedback Message */
    #statusMessage {
      padding: 10px;
      border-radius: 5px;
    }

    #statusMessage.light-mode {
      background-color: #e6ffe6; /* Light green for success */
      color: #006600;
    }

    #statusMessage.dark-mode {
      filter: invert(1); /* Invert feedback message */
    }
  </style>
</head>
<body class="light-mode">
  <div class="container light-mode">
    <header class="light-mode" id="siteHeader">
      <nav>
        <ul>
          <li><a href="index.html">Hive</a></li>
          <li><a href="preferences.html" class="active">Hive Settings</a></li>
          <li><a href="admin.html">Admin</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="preferences-page" id="preferencesSection">
        <h1>Hive Settings</h1>
        <form id="settingsForm">
          <label for="theme">Choose Your Hive Mode:</label>
          <select id="theme" name="theme">
            <option value="light">Light Mode</option>
            <option value="dark">Dark Mode</option>
          </select>

          <label for="notifications">Enable Hive Alerts:</label>
          <input type="checkbox" id="notifications" name="notifications" checked>

          <button type="submit">Save Settings</button>
        </form>

        <p id="statusMessage" class="light-mode" style="font-weight: bold; display: none;">
          Settings saved successfully!
        </p>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 Bee Hive</p>
    </footer>
  </div>

  <script>
    // Function to apply the selected theme/mode
    function applyTheme(theme) {
      const body = document.body;
      const header = document.getElementById('siteHeader');
      const container = document.querySelector('.container');
      const statusMessage = document.getElementById('statusMessage');
      const formElements = document.querySelectorAll('select, input[type="checkbox"], button');

      // Remove existing theme classes
      body.classList.remove('light-mode', 'dark-mode');
      header.classList.remove('light-mode', 'dark-mode');
      container.classList.remove('light-mode', 'dark-mode');
      statusMessage.classList.remove('light-mode', 'dark-mode');
      formElements.forEach(el => el.classList.remove('light-mode', 'dark-mode'));

      // Add the selected theme class
      body.classList.add(`${theme}-mode`);
      header.classList.add(`${theme}-mode`);
      container.classList.add(`${theme}-mode`);
      statusMessage.classList.add(`${theme}-mode`);
      formElements.forEach(el => el.classList.add(`${theme}-mode`));
    }

    // Function to load saved settings
    function loadSettings() {
      const savedTheme = localStorage.getItem('hiveTheme') || 'light';
      const savedNotifications = localStorage.getItem('hiveNotifications');

      // Apply the saved theme
      applyTheme(savedTheme);

      // Set the dropdown value
      document.getElementById('theme').value = savedTheme;

      // Set the notification checkbox value
      if (savedNotifications !== null) {
        document.getElementById('notifications').checked = savedNotifications === 'true';
      }
    }

    // Function to save settings
    function saveSettings(event) {
      event.preventDefault(); // Prevent form submission

      // Get the selected theme and notification preference
      const selectedTheme = document.getElementById('theme').value;
      const notificationsEnabled = document.getElementById('notifications').checked;

      // Save settings in localStorage
      localStorage.setItem('hiveTheme', selectedTheme);
      localStorage.setItem('hiveNotifications', notificationsEnabled);

      // Apply the selected theme
      applyTheme(selectedTheme);

      // Display feedback message
      const statusMessage = document.getElementById('statusMessage');
      statusMessage.style.display = 'block';
      setTimeout(() => {
        statusMessage.style.display = 'none';
      }, 3000);
    }

    // Load settings when the page loads
    document.addEventListener('DOMContentLoaded', loadSettings);

    // Add event listener to the form to save settings
    document.getElementById('settingsForm').addEventListener('submit', saveSettings);
  </script>
</body>
</html>
